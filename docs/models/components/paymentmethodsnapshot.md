# PaymentMethodSnapshot

The payment method used for this transaction.

## Example Usage

```typescript
import { PaymentMethodSnapshot } from "@gr4vy/sdk/models/components";

let value: PaymentMethodSnapshot = {
    type: "payment-method",
    id: "77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5",
    approvalTarget: "any",
    approvalUrl:
        "https://api.example.app.gr4vy.com/payment-methods/ffc88ec9-e1ee-45ba-993d-b5902c3b2a8c/approve",
    country: "US",
    currency: "USD",
    details: {
        cardType: "credit",
        bin: "412345",
    },
    expirationDate: "11/25",
    externalIdentifier: "user-789123",
    label: "1111",
    lastReplacedAt: new Date("2023-07-26T19:23:00.000+00:00"),
    method: "card",
    paymentAccountReference: "V0010014629724763377327521982",
    scheme: "visa",
    fingerprint: "20eb353620155d2b5fc864cc46a73ea77cb92c725238650839da1813fa987a17",
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `type`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | [components.TransactionSummaryPaymentMethodType](../../models/components/transactionsummarypaymentmethodtype.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | `payment-method`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | payment-method                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The unique ID of the payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | 77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `approvalTarget`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [components.TransactionSummaryApprovalTarget](../../models/components/transactionsummaryapprovaltarget.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The browser target that an approval URL must be opened in. If `any` or `null`, then there is no specific requirement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | any                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `approvalUrl`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The optional URL that the buyer needs to be redirected to to further authorize their payment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | https://api.example.app.gr4vy.com/payment-methods/ffc88ec9-e1ee-45ba-993d-b5902c3b2a8c/approve                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `country`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The 2-letter ISO code of the country this payment method can<br/>be used for. If this value is `null` the payment method may be<br/>used in multiple countries.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | US                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `currency`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The ISO-4217 currency code that this payment method can be<br/>used for. If this value is `null` the payment method may be<br/>used for multiple currencies.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | USD                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `details`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [components.Card](../../models/components/card.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | N/A                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `expirationDate`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The expiration date for this payment method. This is mostly used by cards<br/>where the card might have an expiration date.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 11/25                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `externalIdentifier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | An external identifier that can be used to match the payment method<br/>against your own records.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | user-789123                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| `label`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | A label for the payment method. This can be the last 4 digits for a card,<br/>or the email address for an alternative payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 1111                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `lastReplacedAt`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The date and time when this card was last replaced.<br/><br/>When the Account Updater determines that new card details are available, existing details are not<br/>changed immediately. There are three scenarios in which the actual replacement occurs:<br/><br/>1. When this card has expired.<br/>2. When only the expiration date changed.<br/>3. When a transaction using this card is declined with any of the following codes:<br/>    * `canceled_payment_method`<br/>    * `expired_payment_method`<br/>    * `unavailable_payment_method`<br/>    * `unknown_payment_method`<br/><br/>When the replacement is applied, this field is updated.<br/>For non-card payment methods, the value of this field is always set to `null`. | 2023-07-26T19:23:00.000+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `method`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [components.TransactionSummaryPaymentMethodMethod](../../models/components/transactionsummarypaymentmethodmethod.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The type of this payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `paymentAccountReference`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The payment account reference (PAR) returned by the card scheme. This is a unique<br/>reference to the underlying account that has been used to fund this payment method.<br/>This value will be unique if the same underlying account was used, regardless of<br/>the actual payment method used. For example, a network token or an Apple Pay device<br/>token will return the same PAR when possible.<br/><br/>The uniqueness of this value will depend on the card scheme, please refer to their documentation<br/>for further details. The availability of the PAR in our API depends on the availability<br/>of its value in the API of the payment service used for the transaction. | V0010014629724763377327521982                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| `scheme`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [components.TransactionSummaryScheme](../../models/components/transactionsummaryscheme.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | An additional label used to differentiate different sub-types of a payment<br/>method. Most notably this can include the type of card used in a<br/>transaction. This field is `null` for the non-card payment methods.<br/>This represents the card scheme sent to the connector and it could be different from the<br/>actual card scheme that is being used by the PSP to process the transaction<br/>in the following situations: 1. `use_additional_scheme` transformation is used<br/>with the `PAN` instrument but we already have a PSP token for the card.<br/>2. `use_additional_scheme` transformation is used but PSP has fallen back to the<br/>main card scheme internally. | visa                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `fingerprint`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | The unique hash derived from the payment method identifier (e.g. card number).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 20eb353620155d2b5fc864cc46a73ea77cb92c725238650839da1813fa987a17                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |