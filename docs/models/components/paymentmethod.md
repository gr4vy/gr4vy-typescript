# PaymentMethod

A generic payment method.

## Example Usage

```typescript
import { PaymentMethod } from "@gr4vy/sdk/models/components";

let value: PaymentMethod = {
    type: "payment-method",
    id: "77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5",
    additionalSchemes: ["visa"],
    approvalTarget: "any",
    approvalUrl:
        "https://api.example.app.gr4vy.com/payment-methods/ffc88ec9-e1ee-45ba-993d-b5902c3b2a8c/approve",
    buyer: {
        type: "buyer",
        id: "fe26475d-ec3e-4884-9553-f7356683f7f9",
        billingDetails: {
            type: "billing-details",
            firstName: "John",
            lastName: "Lunn",
            emailAddress: "john@example.com",
            phoneNumber: "+1234567890",
            address: {
                city: "London",
                country: "GB",
                postalCode: "789123",
                state: "Greater London",
                stateCode: "GB-LND",
                houseNumberOrName: "10",
                line1: "10 Oxford Street",
                line2: "New Oxford Court",
                organization: "Gr4vy",
            },
            taxId: {
                value: "12345678931",
                kind: "gb.vat",
            },
        },
        createdAt: new Date("2013-07-16T19:23:00.000+00:00"),
        displayName: "John L.",
        externalIdentifier: "user-789123",
        merchantAccountId: "default",
        updatedAt: new Date("2013-07-16T19:23:00.000+00:00"),
    },
    country: "US",
    createdAt: new Date("2013-07-16T19:23:00.000+00:00"),
    currency: "USD",
    details: {
        cardType: "credit",
        bin: "412345",
    },
    expirationDate: "07/24",
    externalIdentifier: "user-789123",
    hasReplacement: false,
    label: "john@example.com",
    lastReplacedAt: new Date("2023-07-26T19:23:00.000+00:00"),
    merchantAccountId: "default",
    method: "card",
    mode: "card",
    scheme: "visa",
    status: "succeeded",
    updatedAt: new Date("2013-07-16T19:23:00.000+00:00"),
    fingerprint: "20eb353620155d2b5fc864cc46a73ea77cb92c725238650839da1813fa987a17",
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Required                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `type`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [components.PaymentMethodType](../../models/components/paymentmethodtype.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | `payment-method`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | payment-method                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `id`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The unique ID of the payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `additionalSchemes`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [components.PaymentMethodAdditionalSchemes](../../models/components/paymentmethodadditionalschemes.md)[]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Additional schemes of the card. Only applies to card payment methods.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `approvalTarget`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | [components.PaymentMethodApprovalTarget](../../models/components/paymentmethodapprovaltarget.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The browser target that an approval URL must be opened in. If `any` or `null`, then there is no specific requirement.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | any                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `approvalUrl`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The optional URL that the buyer needs to be redirected to to further authorize their payment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | https://api.example.app.gr4vy.com/payment-methods/ffc88ec9-e1ee-45ba-993d-b5902c3b2a8c/approve                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| `buyer`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | [components.PaymentMethodBuyer](../../models/components/paymentmethodbuyer.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The optional buyer for which this payment method has been stored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `country`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The 2-letter ISO code of the country this payment method can<br/>be used for. If this value is `null` the payment method may be<br/>used in multiple countries.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | US                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `createdAt`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The date and time when this payment method was first created in our<br/>system.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | 2013-07-16T19:23:00.000+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `currency`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The ISO-4217 currency code that this payment method can be<br/>used for. If this value is `null` the payment method may be<br/>used for multiple currencies.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | USD                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| `details`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | [components.PaymentMethodDetailsCard](../../models/components/paymentmethoddetailscard.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | A credit or debit card payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| `expirationDate`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The expiration date for the payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | 07/24                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `externalIdentifier`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | An external identifier that can be used to match the payment method<br/>against your own records.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | user-789123                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `hasReplacement`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Whether this card has a pending replacement that hasn't been applied yet.<br/><br/>When the Account Updater determines that new card details are available, existing details are not<br/>changed immediately, but this field is set to `true`. There are three scenarios in which the actual<br/>replacement occurs:<br/><br/>1. When this card has expired.<br/>2. When only the expiration date changed.<br/>3. When a transaction using this card is declined with any of the following codes:<br/>    * `canceled_payment_method`<br/>    * `expired_payment_method`<br/>    * `unavailable_payment_method`<br/>    * `unknown_payment_method`<br/><br/>When the replacement is applied, this field is set to `false`.<br/>For non-card payment methods, the value of this field is always set to `false`. | false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| `label`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | A label for the card or the account. For a `paypal` payment method this<br/>is the user's email address. For a card it is the last 4 digits of the<br/>card.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | john@example.com                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `lastReplacedAt`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The date and time when this card was last replaced.<br/><br/>When the Account Updater determines that new card details are available, existing details are not<br/>changed immediately. There are three scenarios in which the actual replacement occurs:<br/><br/>1. When this card has expired.<br/>2. When only the expiration date changed.<br/>3. When a transaction using this card is declined with any of the following codes:<br/>    * `canceled_payment_method`<br/>    * `expired_payment_method`<br/>    * `unavailable_payment_method`<br/>    * `unknown_payment_method`<br/><br/>When the replacement is applied, this field is updated.<br/>For non-card payment methods, the value of this field is always set to `null`.        | 2023-07-26T19:23:00.000+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `merchantAccountId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The unique ID for a merchant account.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | default                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `method`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [components.PaymentMethodMethod](../../models/components/paymentmethodmethod.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The type of this payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `mode`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | [components.Mode](../../models/components/mode.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The mode to use with this payment method.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | card                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `scheme`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [components.PaymentMethodScheme](../../models/components/paymentmethodscheme.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The scheme of the card. Only applies to card payments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | visa                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `status`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | [components.Status](../../models/components/status.md)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The state of the payment method.<br/><br/>- `processing` - The payment method is stored but is not ready to be<br/>   used yet, as we may be waiting for a notification from a connector<br/>   to complete the setup.<br/>- `buyer_approval_required` - Storing the payment method requires<br/>  the buyer to provide approval. Follow the `approval_url` for next steps.<br/>- `succeeded` - The payment method is stored and can be used.<br/>- `failed` - The payment method could not be stored, or failed verification.                                                                                                                                                                                                                     | succeeded                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `updatedAt`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | [Date](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The date and time when this payment method was last updated in our system.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 2013-07-16T19:23:00.000+00:00                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `fingerprint`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | *string*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | The unique hash derived from the payment method identifier (e.g. card number).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 20eb353620155d2b5fc864cc46a73ea77cb92c725238650839da1813fa987a17                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |